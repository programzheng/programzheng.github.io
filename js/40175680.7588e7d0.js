(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["40175680"],{"0748":function(a,i,e){"use strict";var t=function(){var a=this,i=a.$createElement,e=a._self._c||i;return e("q-table",{attrs:{title:a.title,data:a.data,columns:a.columns,"row-key":"id",pagination:a.pagination,filter:a.filter,"binary-state-sort":""},on:{"update:pagination":function(i){a.pagination=i},request:a.onRequest},scopedSlots:a._u([{key:"top-right",fn:function(){return[e("Action",{attrs:{title:"add",columns:a.columns,API:a.API}}),e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:a._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:a.filter,callback:function(i){a.filter=i},expression:"filter"}})]},proxy:!0}])})},n=[],r=(e("55dd"),e("4db1")),o=e.n(r),c=function(){var a=this,i=a.$createElement,e=a._self._c||i;return e("div",{staticClass:"q-pa-md"},[e("q-btn",{attrs:{label:"Add New"},on:{click:function(i){a.addDialog=!0}}}),e("q-dialog",{model:{value:a.addDialog,callback:function(i){a.addDialog=i},expression:"addDialog"}},[e("q-card",{staticClass:"q-pa-md full-width"},[e("q-card-section",[e("div",{staticClass:"text-h6"},[a._v(a._s(a.title))])]),e("q-form",a._l(a.columns,(function(i,t){return e("q-card-section",{key:t},["files"===i.type?[e("Upload",{attrs:{label:i.label,name:i.field,value:i.value},model:{value:i.value,callback:function(e){a.$set(i,"value",e)},expression:"column.value"}})]:a._e(),"input"===i.type?e("q-input",{attrs:{label:i.label,name:i.field},model:{value:i.value,callback:function(e){a.$set(i,"value",e)},expression:"column.value"}}):a._e(),"textarea"===i.type?e("q-input",{attrs:{label:i.label,name:i.field,type:"textarea",filled:""},model:{value:i.value,callback:function(e){a.$set(i,"value",e)},expression:"column.value"}}):a._e()],2)})),1),e("q-btn",{attrs:{label:"Add"},on:{click:function(i){return a.add()}}})],1)],1)],1)},s=[],l=(e("8e6e"),e("8a81"),e("ac6a"),e("cadf"),e("06db"),e("456d"),e("c47a")),u=e.n(l),d=function(){var a=this,i=a.$createElement,e=a._self._c||i;return e("q-uploader",{staticClass:"full-width",attrs:{label:a.title,factory:a.factoryFn,multiple:"",batch:""},on:{uploaded:a.fileUploaded},scopedSlots:a._u([{key:"list",fn:function(i){return[e("q-list",{attrs:{separator:""}},a._l(i.files,(function(t){return e("q-item",{key:t.name},[e("q-item-section",[e("q-item-label",{staticClass:"full-width ellipsis"},[a._v("\n            "+a._s(t.name)+"\n          ")]),e("q-item-label",{attrs:{caption:""}},[a._v("\n            Status: "+a._s(t.__status)+"\n          ")]),e("q-item-label",{attrs:{caption:""}},[a._v("\n            "+a._s(t.__sizeLabel)+" / "+a._s(t.__progressLabel)+"\n          ")])],1),t.__img?e("q-item-section",{staticClass:"gt-xs",attrs:{thumbnail:""}},[e("img",{attrs:{src:t.__img.src}})]):a._e(),e("q-item-section",{attrs:{top:"",side:""}},[e("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(a){return i.removeFile(t)}}})],1)],1)})),1)]}}])})},m=[],p=(e("551c"),{props:{title:String,value:Array},data:function(){return{url:this.apiSetting.baseURL+"files"}},beforeCreate:function(){this.apiSetting=this.$axios.service.defaults},methods:{factoryFn:function(a){var i=this;return new Promise((function(a,e){a({url:i.url,method:"POST",headers:[{name:"Authorization",value:i.apiSetting.headers.Authorization}]})}))},fileUploaded:function(a){var i=this,e=(a.file,a.xhr),t=JSON.parse(e.response),n=o()(t.Value);n.forEach((function(a){i.value.push(a.HashID)}))}}}),f=p,b=e("2877"),g=Object(b["a"])(f,d,m,!1,null,null,null),h=g.exports;function v(a,i){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable}))),e.push.apply(e,t)}return e}function y(a){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?v(e,!0).forEach((function(i){u()(a,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):v(e).forEach((function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(e,i))}))}return a}var _={components:{Upload:h},props:{title:String,API:String,columns:Array},data:function(){return{addDialog:!1,addRow:Array}},methods:{formatColumn:function(){var a=this.columns.map((function(a){var i=y({},a);return"files"===i.type&&(i.value=JSON.stringify(i.value)),i}));return a},formatRow:function(a){var i={};for(var e in a)"id"!==a[e].field&&(i[a[e].field]=a[e].value);return i},add:function(){var a=this,i=this.formatRow(this.columns);this.$axios.post(this.API,i).then((function(i){i.status&&(a.$axios.toast.success("新增成功"),a.addDialog=!1)}))}}},w=_,q=Object(b["a"])(w,c,s,!1,null,null,null),P=q.exports,x={components:{Action:P},props:{title:String,paginationSetting:Object,API:String,columns:Array},data:function(){return{filter:"",pagination:this.paginationSetting,loading:!1,data:[]}},mounted:function(){this.onRequest({pagination:this.pagination,filter:void 0})},methods:{onRequest:function(a){var i,e=a.pagination,t=e.page,n=e.rowsPerPage,r=e.rowsNumber,c=e.sortBy,s=e.descending,l=a.filter;this.loading=!0;var u=(t-1)*n,d=0===n?r:n,m=this.getDataFromSever(u,d,l,c,s);this.pagination.rowsNumber=m.length,(i=this.data).splice.apply(i,[0,this.data.length].concat(o()(m))),this.pagination.rowsNumber=m.length,this.pagination.page=t,this.pagination.rowsPerPage=n,this.pagination.sortBy=c,this.pagination.descending=s,this.loading=!1},getDataFromSever:function(a,i,e,t,n){var r=this;return this.$axios.get(this.API,{page_num:0,page_size:10}).then((function(a){r.data=a.data.value.list})),t&&this.data.sort((function(a,i){var e=n?i:a,r=n?a:i;return"desc"===t?e[t]>r[t]?1:e[t]<r[t]?-1:0:parseFloat(e[t])-parseFloat(r[t])})),this.data}}},O=x,A=Object(b["a"])(O,t,n,!1,null,null,null);i["a"]=A.exports},"2ad7":function(a,i,e){"use strict";e.r(i);var t=function(){var a=this,i=a.$createElement,e=a._self._c||i;return e("q-page",{staticClass:"flex flex-center"},[e("Table",{attrs:{title:"管理帳號",API:a.API,"pagination-setting":a.pagination,columns:a.columns}})],1)},n=[],r=e("0748"),o={components:{Table:r["a"]},data:function(){return{API:"admins",pagination:{sortBy:"id",descending:!1,page:1,rowsPerPage:3,rowsNumber:10},columns:[{name:"id",required:!0,label:"id",align:"center",field:function(a){return a.ID},format:function(a){return"".concat(a)},sortable:!0},{name:"account",align:"center",label:"帳號",field:"Account",sortable:!0},{name:"name",align:"center",label:"姓名",field:function(a){return a.Profile.Name},sortable:!0},{name:"createdAt",align:"center",label:"建立日期",field:"CreatedAt",sortable:!0}],data:[],original:[{id:1,name:"Frozen Yogurt",calories:159,fat:6,carbs:24,protein:4,sodium:87,calcium:"14%",iron:"1%"},{id:2,name:"Ice cream sandwich",calories:237,fat:9,carbs:37,protein:4.3,sodium:129,calcium:"8%",iron:"1%"},{id:3,name:"Eclair",calories:262,fat:16,carbs:23,protein:6,sodium:337,calcium:"6%",iron:"7%"},{id:4,name:"Cupcake",calories:305,fat:3.7,carbs:67,protein:4.3,sodium:413,calcium:"3%",iron:"8%"},{id:5,name:"Gingerbread",calories:356,fat:16,carbs:49,protein:3.9,sodium:327,calcium:"7%",iron:"16%"},{id:6,name:"Jelly bean",calories:375,fat:0,carbs:94,protein:0,sodium:50,calcium:"0%",iron:"0%"},{id:7,name:"Lollipop",calories:392,fat:.2,carbs:98,protein:0,sodium:38,calcium:"0%",iron:"2%"},{id:8,name:"Honeycomb",calories:408,fat:3.2,carbs:87,protein:6.5,sodium:562,calcium:"0%",iron:"45%"},{id:9,name:"Donut",calories:452,fat:25,carbs:51,protein:4.9,sodium:326,calcium:"2%",iron:"22%"},{id:10,name:"KitKat",calories:518,fat:26,carbs:65,protein:7,sodium:54,calcium:"12%",iron:"6%"},{id:11,name:"Frozen Yogurt-1",calories:159,fat:6,carbs:24,protein:4,sodium:87,calcium:"14%",iron:"1%"},{id:12,name:"Ice cream sandwich-1",calories:237,fat:9,carbs:37,protein:4.3,sodium:129,calcium:"8%",iron:"1%"},{id:13,name:"Eclair-1",calories:262,fat:16,carbs:23,protein:6,sodium:337,calcium:"6%",iron:"7%"},{id:14,name:"Cupcake-1",calories:305,fat:3.7,carbs:67,protein:4.3,sodium:413,calcium:"3%",iron:"8%"},{id:15,name:"Gingerbread-1",calories:356,fat:16,carbs:49,protein:3.9,sodium:327,calcium:"7%",iron:"16%"},{id:16,name:"Jelly bean-1",calories:375,fat:0,carbs:94,protein:0,sodium:50,calcium:"0%",iron:"0%"},{id:17,name:"Lollipop-1",calories:392,fat:.2,carbs:98,protein:0,sodium:38,calcium:"0%",iron:"2%"},{id:18,name:"Honeycomb-1",calories:408,fat:3.2,carbs:87,protein:6.5,sodium:562,calcium:"0%",iron:"45%"},{id:19,name:"Donut-1",calories:452,fat:25,carbs:51,protein:4.9,sodium:326,calcium:"2%",iron:"22%"},{id:20,name:"KitKat-1",calories:518,fat:26,carbs:65,protein:7,sodium:54,calcium:"12%",iron:"6%"},{id:21,name:"Frozen Yogurt-2",calories:159,fat:6,carbs:24,protein:4,sodium:87,calcium:"14%",iron:"1%"},{id:22,name:"Ice cream sandwich-2",calories:237,fat:9,carbs:37,protein:4.3,sodium:129,calcium:"8%",iron:"1%"},{id:23,name:"Eclair-2",calories:262,fat:16,carbs:23,protein:6,sodium:337,calcium:"6%",iron:"7%"},{id:24,name:"Cupcake-2",calories:305,fat:3.7,carbs:67,protein:4.3,sodium:413,calcium:"3%",iron:"8%"},{id:25,name:"Gingerbread-2",calories:356,fat:16,carbs:49,protein:3.9,sodium:327,calcium:"7%",iron:"16%"},{id:26,name:"Jelly bean-2",calories:375,fat:0,carbs:94,protein:0,sodium:50,calcium:"0%",iron:"0%"},{id:27,name:"Lollipop-2",calories:392,fat:.2,carbs:98,protein:0,sodium:38,calcium:"0%",iron:"2%"},{id:28,name:"Honeycomb-2",calories:408,fat:3.2,carbs:87,protein:6.5,sodium:562,calcium:"0%",iron:"45%"},{id:29,name:"Donut-2",calories:452,fat:25,carbs:51,protein:4.9,sodium:326,calcium:"2%",iron:"22%"},{id:30,name:"KitKat-2",calories:518,fat:26,carbs:65,protein:7,sodium:54,calcium:"12%",iron:"6%"},{id:31,name:"Frozen Yogurt-3",calories:159,fat:6,carbs:24,protein:4,sodium:87,calcium:"14%",iron:"1%"},{id:32,name:"Ice cream sandwich-3",calories:237,fat:9,carbs:37,protein:4.3,sodium:129,calcium:"8%",iron:"1%"},{id:33,name:"Eclair-3",calories:262,fat:16,carbs:23,protein:6,sodium:337,calcium:"6%",iron:"7%"},{id:34,name:"Cupcake-3",calories:305,fat:3.7,carbs:67,protein:4.3,sodium:413,calcium:"3%",iron:"8%"},{id:35,name:"Gingerbread-3",calories:356,fat:16,carbs:49,protein:3.9,sodium:327,calcium:"7%",iron:"16%"},{id:36,name:"Jelly bean-3",calories:375,fat:0,carbs:94,protein:0,sodium:50,calcium:"0%",iron:"0%"},{id:37,name:"Lollipop-3",calories:392,fat:.2,carbs:98,protein:0,sodium:38,calcium:"0%",iron:"2%"},{id:38,name:"Honeycomb-3",calories:408,fat:3.2,carbs:87,protein:6.5,sodium:562,calcium:"0%",iron:"45%"},{id:39,name:"Donut-3",calories:452,fat:25,carbs:51,protein:4.9,sodium:326,calcium:"2%",iron:"22%"},{id:40,name:"KitKat-3",calories:518,fat:26,carbs:65,protein:7,sodium:54,calcium:"12%",iron:"6%"}]}}},c=o,s=e("2877"),l=Object(s["a"])(c,t,n,!1,null,null,null);i["default"]=l.exports}}]);